\hypertarget{purple__utils_8c_source}{}\doxysubsection{purple\+\_\+utils.\+c}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 }
\DoxyCodeLine{00017 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{00018 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{00019 \textcolor{preprocessor}{\#include <math.h>}}
\DoxyCodeLine{00020 \textcolor{preprocessor}{\#include "m\_pd.h"}}
\DoxyCodeLine{00021 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{purple__utils_8h}{purple\_utils.h}}"}}
\DoxyCodeLine{\Hypertarget{purple__utils_8c_source_l00029}\mbox{\hyperlink{purple__utils_8h_adedfab0848a63809acd487441d157908}{00029}} \textcolor{keywordtype}{int} \mbox{\hyperlink{purple__utils_8c_adedfab0848a63809acd487441d157908}{get\_samples\_from\_ms}}(\textcolor{keywordtype}{int} ms, \textcolor{keywordtype}{float} sr)}
\DoxyCodeLine{00030 \{}
\DoxyCodeLine{00031     \textcolor{keywordflow}{if}(sr)}
\DoxyCodeLine{00032     \{}
\DoxyCodeLine{00033         \textcolor{keywordflow}{return} ceil((sr / 1000) * ms);}
\DoxyCodeLine{00034     \}}
\DoxyCodeLine{00035     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00036         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00037     \}}
\DoxyCodeLine{00038 \}}
\DoxyCodeLine{\Hypertarget{purple__utils_8c_source_l00046}\mbox{\hyperlink{purple__utils_8h_a4f939b5cdf750d42da571e97fdd1510f}{00046}} \textcolor{keywordtype}{float} \mbox{\hyperlink{purple__utils_8c_a4f939b5cdf750d42da571e97fdd1510f}{get\_ms\_from\_samples}}(\textcolor{keywordtype}{int} num\_samples, \textcolor{keywordtype}{float} sr)}
\DoxyCodeLine{00047 \{}
\DoxyCodeLine{00048     \textcolor{keywordflow}{if}(sr)}
\DoxyCodeLine{00049     \{}
\DoxyCodeLine{00050         \textcolor{keywordflow}{return} (num\_samples * 1000) / sr;}
\DoxyCodeLine{00051     \}}
\DoxyCodeLine{00052     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00053         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00054     \}}
\DoxyCodeLine{00055 \}}
\DoxyCodeLine{\Hypertarget{purple__utils_8c_source_l00064}\mbox{\hyperlink{purple__utils_8h_a228b2ef6097d375daeea9358a534ce54}{00064}} \textcolor{keywordtype}{float} \mbox{\hyperlink{purple__utils_8c_a228b2ef6097d375daeea9358a534ce54}{get\_interpolated\_sample\_value}}(\textcolor{keywordtype}{float} sample\_left, \textcolor{keywordtype}{float} sample\_right, \textcolor{keywordtype}{float} frac)}
\DoxyCodeLine{00065 \{}
\DoxyCodeLine{00066     \textcolor{keywordtype}{float} weighted\_a = sample\_left * (1 -\/ frac);}
\DoxyCodeLine{00067     \textcolor{keywordtype}{float} weighted\_b = sample\_right * frac;}
\DoxyCodeLine{00068     \textcolor{keywordflow}{return} (weighted\_a + weighted\_b);}
\DoxyCodeLine{00069 \}}
\DoxyCodeLine{\Hypertarget{purple__utils_8c_source_l00076}\mbox{\hyperlink{purple__utils_8h_aa70b6fc905b978c25b15eaa49ddda958}{00076}} \textcolor{keywordtype}{void} \mbox{\hyperlink{purple__utils_8c_aa70b6fc905b978c25b15eaa49ddda958}{switch\_float\_values}}(\textcolor{keywordtype}{float} *a, \textcolor{keywordtype}{float} *b)}
\DoxyCodeLine{00077 \{}
\DoxyCodeLine{00078     \textcolor{keywordtype}{float} *temp\_ptr = a;}
\DoxyCodeLine{00079     a = b;}
\DoxyCodeLine{00080     b = temp\_ptr;}
\DoxyCodeLine{00081     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00082 \}}
\DoxyCodeLine{\Hypertarget{purple__utils_8c_source_l00089}\mbox{\hyperlink{purple__utils_8h_a6a5f0b499868877a5f59c0b0f86ba1b7}{00089}} \textcolor{keywordtype}{int} \mbox{\hyperlink{purple__utils_8c_a6a5f0b499868877a5f59c0b0f86ba1b7}{spray\_dependant\_playback\_nudge}}(\textcolor{keywordtype}{int} spray\_input)}
\DoxyCodeLine{00090 \{}
\DoxyCodeLine{00091     \textcolor{keywordflow}{if}(spray\_input == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00092     \textcolor{keywordtype}{int} off = rand() \% (2 * spray\_input);}
\DoxyCodeLine{00093     \textcolor{keywordflow}{return} off -\/ spray\_input;}
\DoxyCodeLine{00094 \}}

\end{DoxyCode}
